# Single Access Design Pattern

## What is it?

The Single Access design pattern restricts the access to a resource, allowing only a single retrieval. Consecutive accesses can trigger an error, which would usually point to a logical error in the code.

## When to use it?

- When you must guarantee that a resource will only be accessed once.

## Why?

The design emerged in one of my projects, where a state object is being shared across multiple states. I needed a way to ensure that the shared data is only being accessed _only_ once in each state. This helped streamline the code, and made it easier to follow.

- When a new state is entered, the necessary shared information is retrieved and stored in instance variables. 
- Forgetting to set the shared information at the end of a state triggers an error in the next access.
- This enforces that if a state reads some of the shared information, it must also write back the possibly updated information.

## Implementation
@[Interface]({ "stubs": ["iSingleAccess.ts"]})

This is what an interface for the single access class would look like. The `<T>` allows specifying to TypeScript what the actual object's type is, and also points out that this will work for _any_ object.

### TODO Show some tests first

### Add implementation file that implements the interface, but doesn't have the code in the funcs

## Usage
# Welcome!

This Nodejs template lets you get started quickly with a simple working example using npm. If it is your first contribution then you should have a look at the [Getting Started](https://tech.io/doc/getting-started-create-playground) document.


The source code is on [GitHub](https://github.com/TechDotIO/nodejs-template), please feel free to come up with proposals to improve it.

# Hands-on Demo

@[Luke, how many stars are there in these galaxies?]({ "stubs": ["universe.ts"], "command": "node_modules/mocha/bin/mocha --require ts-node/register universe.spec.ts --reporter list" })

# Template Resources
Check out the markdown file [`welcome.md`](https://github.com/TechDotIO/nodejs-template/blob/master/markdowns/welcome.md) to see how this exercise is injected into the template.

[`markdowns/welcome.md`](https://github.com/TechDotIO/nodejs-template/blob/master/markdowns/welcome.md)
What you are reading here is generated by this file. Tech.io uses the [Markdown syntax](https://tech.io/doc/reference-markdowns) to render text, media and to inject programming exercises.


[`nodejs-project`](https://github.com/TechDotIO/nodejs-template/tree/master/nodejs-project)
A simple Nodejs project dedicated to run the programming exercise above. A project relies on a Docker image to run. You can find images on the [Docker Hub](https://hub.docker.com/explore/) or you can even [build your own](https://tech.io/doc/reference-runner).


[`techio.yml`](https://github.com/TechDotIO/nodejs-template/blob/master/techio.yml)
This *mandatory* file describes both the table of content and the programming project(s). The file path should not be changed.


# Visual and Interactive Content

Tech.io provides all the tools to embed visual and interactive content like a Web app or a Unix terminal within your contribution. Please refer to the [documentation](https://tech.io/doc) to learn more about the viewer integrations.
